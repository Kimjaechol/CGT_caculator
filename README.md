# 2025 양도소득세 AI 전문 컨설팅 플랫폼

공인중개사를 위한 **실시간 양도소득세 계산** 및 **AI 세무상담** 웹 애플리케이션입니다.

## 주요 기능

### 1. 정밀 양도세 계산기
- 2025년 귀속 최신 세법 반영
- 기본세율, 단기양도, 다주택 중과, 비사업용 토지 세율 완벽 지원
- 장기보유특별공제 (표1: 일반, 표2: 1세대1주택) 자동 계산
- 1세대1주택 비과세 및 고가주택 과세 처리
- 다주택 중과 유예기간(2022.5.10~2026.5.9) 자동 적용
- 8년 자경농지, 공익사업 수용 등 세액감면 지원

### 2. AI 세무 상담 (Google Gemini)
- 30년 경력 세무사 수준의 전문 상담
- 세무사 보고서 형식(5단계 구조)으로 답변
- 업로드된 양도세 법령/상담사례 기반 RAG 검색

### 3. PDF 보고서 생성
- 계산 결과 PDF 다운로드
- AI 상담 보고서 PDF 다운로드
- 깔끔한 보고서 양식

### 4. 모바일 최적화 UI
- 중개 현장에서 휴대폰으로 즉시 사용 가능
- 터치 친화적 인터페이스
- 반응형 디자인

## 기술 스택

- **Backend**: Python FastAPI
- **Frontend**: HTML5, Tailwind CSS, Vanilla JS
- **AI**: Google Gemini 1.5 Pro
- **Database**: SQLite FTS5 (전문 검색)
- **PDF**: html2pdf.js

## 설치 및 실행

### 1. 의존성 설치

```bash
pip install -r requirements.txt
```

### 2. 환경 변수 설정

```bash
cp .env.example .env
```

`.env` 파일을 편집하여 Gemini API 키를 입력:
```
GEMINI_API_KEY=your_actual_api_key_here
```

API 키는 [Google AI Studio](https://aistudio.google.com/app/apikey)에서 발급받을 수 있습니다.

### 3. 서버 실행

```bash
python main.py
```

또는 개발 모드로:
```bash
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### 4. 접속

브라우저에서 `http://localhost:8000` 접속

## 프로젝트 구조

```
CGT_caculator/
├── main.py                 # FastAPI 서버 (계산 엔진 + AI 상담)
├── requirements.txt        # Python 의존성
├── .env                    # 환경 변수 (API 키)
├── .env.example           # 환경 변수 예시
├── .gitignore
├── templates/
│   └── index.html         # 프론트엔드 (모바일 최적화)
├── static/                # 정적 파일
├── data/                  # SQLite DB 저장 위치
└── [양도세 관련 문서들]    # RAG 학습 데이터
```

## 세율 적용 기준 (2025년)

### 기본세율 (2023년 이후)
| 과세표준 | 세율 | 누진공제 |
|---------|------|---------|
| 1,400만원 이하 | 6% | - |
| 5,000만원 이하 | 15% | 126만원 |
| 8,800만원 이하 | 24% | 576만원 |
| 1.5억원 이하 | 35% | 1,544만원 |
| 3억원 이하 | 38% | 1,994만원 |
| 5억원 이하 | 40% | 2,594만원 |
| 10억원 이하 | 42% | 3,594만원 |
| 10억원 초과 | 45% | 6,594만원 |

### 단기양도 세율
- 1년 미만: 50% (주택/입주권/분양권 70%)
- 1~2년 미만: 40% (주택/입주권/분양권 60%)

### 다주택 중과
- 2주택: 기본세율 + 20%
- 3주택 이상: 기본세율 + 30%
- **중과 유예**: 2022.5.10 ~ 2026.5.9 양도분, 보유 2년 이상 → 기본세율 적용

## API 엔드포인트

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/` | 메인 페이지 |
| POST | `/api/calculate` | 양도세 계산 |
| POST | `/api/consult` | AI 세무 상담 |
| GET | `/api/health` | 헬스체크 |

## 참고 자료

본 플랫폼은 다음 자료를 기반으로 개발되었습니다:
- 2025년 양도소득세 실무 기본서
- 소득세법, 소득세법 시행령, 시행규칙
- 플랫폼세무사회 질의회신 사례집
- 국세청 유권해석 및 판례

## 면책 조항

본 계산 결과 및 AI 상담 내용은 참고용이며, 실제 세액과 다를 수 있습니다.
정확한 세액 산정 및 신고는 반드시 관할 세무서 또는 세무사와 상담하시기 바랍니다.

## 라이선스

이 프로젝트는 교육 및 실무 참고 목적으로 제작되었습니다.
